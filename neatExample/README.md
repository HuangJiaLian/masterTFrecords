# Neat Example

一个简单的线性回归例子,使用两种不同的方法来训练神经网络。在不shuffle的情况下，对比生成的所有mini-batch是不是都一样。

文件结构:

```
├── 01_create_data.py(生成训练数据)
├── A_train_with_npy.py(方法A:使用npy数据训练)
├── B0_make_tfrecord.py(方法B:Step0 生成tfrecord数据)
├── B1_load_tfrec_to_train.py(方法B:Step1，使用tfrecord数据训练)
├── check_batch.py(不shuffle,检验两种方法生成的每个mini-batch是否一样)
├── README.md
└── tfrecords
    └── README.md

```

程序执行顺序: `01_create_data.py` ->`A_train_with_npy.py` ->`B0_make_tfrecord.py` ->

`B1_load_tfrec_to_train.py` -> `check_batch.py`



训练数据:

```
      [[-1.        ,  0.48135411],
       [-0.99331104,  0.57843449],
       [-0.98662207,  0.49464309],
       [-0.97993311,  0.53856483],
       [-0.97324415,  0.47822374],
       [-0.96655518,  0.39865001],
       [-0.95986622,  0.50083226],
       [-0.95317726,  0.40969801],
       [-0.94648829,  0.34020805],
       [-0.93979933,  0.37224305],
       [-0.93311037,  0.36621874],
       [-0.9264214 ,  0.32345514],
       [-0.91973244,  0.41537839],
       [-0.91304348,  0.30881989],
       [-0.90635452,  0.26206311],
       [-0.89966555,  0.35463208],
       [-0.89297659,  0.40226637],
       [-0.88628763,  0.22092499],
       [-0.87959866,  0.24530274],
       [-0.8729097 ,  0.24724566],
       [-0.86622074,  0.20360316],
       [-0.85953177,  0.25684286],
       [-0.85284281,  0.21504068],
       [-0.84615385,  0.19686963],
       [-0.83946488,  0.2124313 ],
       [-0.83277592,  0.20882275],
       [-0.82608696,  0.21084409],
       [-0.81939799,  0.18702635],
       [-0.81270903,  0.04792324],
       [-0.80602007,  0.20201561],
       [-0.7993311 ,  0.1226222 ],
       [-0.79264214,  0.1939976 ],
       [-0.78595318,  0.14474752],
       [-0.77926421,  0.06067878],
       [-0.77257525,  0.04769419],
       [-0.76588629,  0.06666112],
       [-0.75919732,  0.00317835],
       [-0.75250836,  0.06465381],
       [-0.7458194 ,  0.13056679],
       [-0.73913043,  0.14734006],
       [-0.73244147,  0.13667729],
       [-0.72575251,  0.03730449],
       [-0.71906355, -0.03070569],
       [-0.71237458, -0.03429015],
       [-0.70568562,  0.02261528],
       [-0.69899666, -0.07118332],
       [-0.69230769,  0.04187838],
       [-0.68561873, -0.05822953],
       [-0.67892977, -0.09991225],
       [-0.6722408 , -0.13352112],
       [-0.66555184, -0.05306977],
       [-0.65886288, -0.04403695],
       [-0.65217391, -0.04549052],
       [-0.64548495, -0.13638332],
       [-0.63879599, -0.08721941],
       [-0.63210702, -0.07280965],
       [-0.62541806, -0.10841948],
       [-0.6187291 , -0.10476436],
       [-0.61204013, -0.12030978],
       [-0.60535117, -0.12734497],
       [-0.59866221, -0.08768764],
       [-0.59197324, -0.14525663],
       [-0.58528428, -0.28298084],
       [-0.57859532, -0.13659415],
       [-0.57190635, -0.19609565],
       [-0.56521739, -0.12860297],
       [-0.55852843, -0.22090466],
       [-0.55183946, -0.21549971],
       [-0.5451505 , -0.14808291],
       [-0.53846154, -0.20643563],
       [-0.53177258, -0.09873586],
       [-0.52508361, -0.24059184],
       [-0.51839465, -0.2381398 ],
       [-0.51170569, -0.22438089],
       [-0.50501672, -0.1946309 ],
       [-0.49832776, -0.18790079],
       [-0.4916388 , -0.24532005],
       [-0.48494983, -0.15204272],
       [-0.47826087, -0.1777827 ],
       [-0.47157191, -0.24972662],
       [-0.46488294, -0.30363074],
       [-0.45819398, -0.38510623],
       [-0.45150502, -0.27816302],
       [-0.44481605, -0.27683102],
       [-0.43812709, -0.37631952],
       [-0.43143813, -0.28942984],
       [-0.42474916, -0.36269518],
       [-0.4180602 , -0.26497435],
       [-0.41137124, -0.30508793],
       [-0.40468227, -0.29601314],
       [-0.39799331, -0.33193419],
       [-0.39130435, -0.4117396 ],
       [-0.38461538, -0.34321295],
       [-0.37792642, -0.25214718],
       [-0.37123746, -0.35182179],
       [-0.36454849, -0.31142521],
       [-0.35785953, -0.36597112],
       [-0.35117057, -0.310897  ],
       [-0.34448161, -0.40105273],
       [-0.33779264, -0.34552643],
       [-0.33110368, -0.38100855],
       [-0.32441472, -0.43782257],
       [-0.31772575, -0.36265822],
       [-0.31103679, -0.38549786],
       [-0.30434783, -0.43097585],
       [-0.29765886, -0.47795319],
       [-0.2909699 , -0.42229524],
       [-0.28428094, -0.34107671],
       [-0.27759197, -0.42414228],
       [-0.27090301, -0.37117275],
       [-0.26421405, -0.50032791],
       [-0.25752508, -0.44367058],
       [-0.25083612, -0.5105545 ],
       [-0.24414716, -0.39779887],
       [-0.23745819, -0.43806937],
       [-0.23076923, -0.46524869],
       [-0.22408027, -0.39891527],
       [-0.2173913 , -0.49579353],
       [-0.21070234, -0.35485251],
       [-0.20401338, -0.47173036],
       [-0.19732441, -0.43759534],
       [-0.19063545, -0.43804952],
       [-0.18394649, -0.49053569],
       [-0.17725753, -0.3534318 ],
       [-0.17056856, -0.49089666],
       [-0.1638796 , -0.48965827],
       [-0.15719064, -0.45102487],
       [-0.15050167, -0.50062386],
       [-0.14381271, -0.5272903 ],
       [-0.13712375, -0.45735917],
       [-0.13043478, -0.51158014],
       [-0.12374582, -0.46967974],
       [-0.11705686, -0.4047608 ],
       [-0.11036789, -0.45803095],
       [-0.10367893, -0.54451557],
       [-0.09698997, -0.54153234],
       [-0.090301  , -0.48883744],
       [-0.08361204, -0.50223437],
       [-0.07692308, -0.53697371],
       [-0.07023411, -0.42058157],
       [-0.06354515, -0.4022819 ],
       [-0.05685619, -0.48809045],
       [-0.05016722, -0.42797554],
       [-0.04347826, -0.61138627],
       [-0.0367893 , -0.47308862],
       [-0.03010033, -0.48854733],
       [-0.02341137, -0.51769767],
       [-0.01672241, -0.36583867],
       [-0.01003344, -0.49168005],
       [-0.00334448, -0.49818285],
       [ 0.00334448, -0.41904187],
       [ 0.01003344, -0.50090802],
       [ 0.01672241, -0.4209193 ],
       [ 0.02341137, -0.53976307],
       [ 0.03010033, -0.51462673],
       [ 0.0367893 , -0.44104216],
       [ 0.04347826, -0.4810508 ],
       [ 0.05016722, -0.48177107],
       [ 0.05685619, -0.48379118],
       [ 0.06354515, -0.45588757],
       [ 0.07023411, -0.477081  ],
       [ 0.07692308, -0.5273023 ],
       [ 0.08361204, -0.47880118],
       [ 0.090301  , -0.54396282],
       [ 0.09698997, -0.43336519],
       [ 0.10367893, -0.39852829],
       [ 0.11036789, -0.47358389],
       [ 0.11705686, -0.52786202],
       [ 0.12374582, -0.45561025],
       [ 0.13043478, -0.48685201],
       [ 0.13712375, -0.46191456],
       [ 0.14381271, -0.57032741],
       [ 0.15050167, -0.52777167],
       [ 0.15719064, -0.44722621],
       [ 0.1638796 , -0.45801537],
       [ 0.17056856, -0.48947182],
       [ 0.17725753, -0.52393517],
       [ 0.18394649, -0.42417077],
       [ 0.19063545, -0.4354289 ],
       [ 0.19732441, -0.40443173],
       [ 0.20401338, -0.42554981],
       [ 0.21070234, -0.34971149],
       [ 0.2173913 , -0.40713908],
       [ 0.22408027, -0.46312079],
       [ 0.23076923, -0.54739642],
       [ 0.23745819, -0.44876266],
       [ 0.24414716, -0.47446048],
       [ 0.25083612, -0.4145365 ],
       [ 0.25752508, -0.36308832],
       [ 0.26421405, -0.4516752 ],
       [ 0.27090301, -0.37797555],
       [ 0.27759197, -0.44692704],
       [ 0.28428094, -0.49398878],
       [ 0.2909699 , -0.40914053],
       [ 0.29765886, -0.34531314],
       [ 0.30434783, -0.5330953 ],
       [ 0.31103679, -0.42521163],
       [ 0.31772575, -0.4328662 ],
       [ 0.32441472, -0.41730735],
       [ 0.33110368, -0.35224348],
       [ 0.33779264, -0.3763926 ],
       [ 0.34448161, -0.39805595],
       [ 0.35117057, -0.33962955],
       [ 0.35785953, -0.41604041],
       [ 0.36454849, -0.24311415],
       [ 0.37123746, -0.29876387],
       [ 0.37792642, -0.38227144],
       [ 0.38461538, -0.34728134],
       [ 0.39130435, -0.40145963],
       [ 0.39799331, -0.32114713],
       [ 0.40468227, -0.39374121],
       [ 0.41137124, -0.24745799],
       [ 0.4180602 , -0.29930681],
       [ 0.42474916, -0.26514251],
       [ 0.43143813, -0.35108806],
       [ 0.43812709, -0.31497925],
       [ 0.44481605, -0.27414939],
       [ 0.45150502, -0.27003458],
       [ 0.45819398, -0.28058759],
       [ 0.46488294, -0.30332743],
       [ 0.47157191, -0.30197984],
       [ 0.47826087, -0.25522166],
       [ 0.48494983, -0.19181598],
       [ 0.4916388 , -0.28540065],
       [ 0.49832776, -0.23905098],
       [ 0.50501672, -0.28174433],
       [ 0.51170569, -0.24077047],
       [ 0.51839465, -0.29298999],
       [ 0.52508361, -0.25452799],
       [ 0.53177258, -0.21755715],
       [ 0.53846154, -0.16755383],
       [ 0.5451505 , -0.15539896],
       [ 0.55183946, -0.25801441],
       [ 0.55852843, -0.1857938 ],
       [ 0.56521739, -0.12169066],
       [ 0.57190635, -0.18045438],
       [ 0.57859532, -0.14079277],
       [ 0.58528428, -0.15902751],
       [ 0.59197324, -0.14992646],
       [ 0.59866221, -0.16935036],
       [ 0.60535117, -0.16216108],
       [ 0.61204013, -0.05747911],
       [ 0.6187291 , -0.13410884],
       [ 0.62541806, -0.0501323 ],
       [ 0.63210702, -0.0644133 ],
       [ 0.63879599, -0.11730782],
       [ 0.64548495, -0.09197034],
       [ 0.65217391, -0.07748246],
       [ 0.65886288, -0.06496734],
       [ 0.66555184, -0.06781847],
       [ 0.6722408 , -0.07644017],
       [ 0.67892977, -0.07227518],
       [ 0.68561873, -0.06732137],
       [ 0.69230769, -0.10390732],
       [ 0.69899666,  0.07067612],
       [ 0.70568562, -0.0158242 ],
       [ 0.71237458,  0.07206259],
       [ 0.71906355, -0.01730523],
       [ 0.72575251,  0.06691954],
       [ 0.73244147,  0.00912288],
       [ 0.73913043,  0.02614966],
       [ 0.7458194 ,  0.02521993],
       [ 0.75250836,  0.09490717],
       [ 0.75919732,  0.08683184],
       [ 0.76588629,  0.13056611],
       [ 0.77257525, -0.02874826],
       [ 0.77926421,  0.12829133],
       [ 0.78595318,  0.11279263],
       [ 0.79264214,  0.13776629],
       [ 0.7993311 ,  0.11474154],
       [ 0.80602007,  0.15279174],
       [ 0.81270903,  0.10609146],
       [ 0.81939799,  0.20126182],
       [ 0.82608696,  0.21306148],
       [ 0.83277592,  0.13374319],
       [ 0.83946488,  0.19082061],
       [ 0.84615385,  0.24430196],
       [ 0.85284281,  0.23311665],
       [ 0.85953177,  0.22886207],
       [ 0.86622074,  0.26936076],
       [ 0.8729097 ,  0.20724802],
       [ 0.87959866,  0.23934496],
       [ 0.88628763,  0.20874845],
       [ 0.89297659,  0.32021552],
       [ 0.89966555,  0.35498989],
       [ 0.90635452,  0.30851029],
       [ 0.91304348,  0.38562342],
       [ 0.91973244,  0.3386004 ],
       [ 0.9264214 ,  0.37027177],
       [ 0.93311037,  0.40729538],
       [ 0.93979933,  0.34590922],
       [ 0.94648829,  0.36894104],
       [ 0.95317726,  0.3690762 ],
       [ 0.95986622,  0.31073094],
       [ 0.96655518,  0.42978469],
       [ 0.97324415,  0.42538894],
       [ 0.97993311,  0.42841487],
       [ 0.98662207,  0.48164306],
       [ 0.99331104,  0.5360715 ],
       [ 1.        ,  0.54508086]]
```

直接读取npy后, 将数据分成mini-batch后的数据, 没有shuffule

```
[[-1.          0.48135411]
 [-0.99331104  0.57843449]
 [-0.98662207  0.49464309]
 [-0.97993311  0.53856483]
 [-0.97324415  0.47822374]
 [-0.96655518  0.39865001]
 [-0.95986622  0.50083226]
 [-0.95317726  0.40969801]
 [-0.94648829  0.34020805]
 [-0.93979933  0.37224305]]
[[-0.93311037  0.36621874]
 [-0.9264214   0.32345514]
 [-0.91973244  0.41537839]
 [-0.91304348  0.30881989]
 [-0.90635452  0.26206311]
 [-0.89966555  0.35463208]
 [-0.89297659  0.40226637]
 [-0.88628763  0.22092499]
 [-0.87959866  0.24530274]
 [-0.8729097   0.24724566]]
[[-0.86622074  0.20360316]
 [-0.85953177  0.25684286]
 [-0.85284281  0.21504068]
 [-0.84615385  0.19686963]
 [-0.83946488  0.2124313 ]
 [-0.83277592  0.20882275]
 [-0.82608696  0.21084409]
 [-0.81939799  0.18702635]
 [-0.81270903  0.04792324]
 [-0.80602007  0.20201561]]
[[-0.7993311   0.1226222 ]
 [-0.79264214  0.1939976 ]
 [-0.78595318  0.14474752]
 [-0.77926421  0.06067878]
 [-0.77257525  0.04769419]
 [-0.76588629  0.06666112]
 [-0.75919732  0.00317835]
 [-0.75250836  0.06465381]
 [-0.7458194   0.13056679]
 [-0.73913043  0.14734006]]
[[-0.73244147  0.13667729]
 [-0.72575251  0.03730449]
 [-0.71906355 -0.03070569]
 [-0.71237458 -0.03429015]
 [-0.70568562  0.02261528]
 [-0.69899666 -0.07118332]
 [-0.69230769  0.04187838]
 [-0.68561873 -0.05822953]
 [-0.67892977 -0.09991225]
 [-0.6722408  -0.13352112]]
[[-0.66555184 -0.05306977]
 [-0.65886288 -0.04403695]
 [-0.65217391 -0.04549052]
 [-0.64548495 -0.13638332]
 [-0.63879599 -0.08721941]
 [-0.63210702 -0.07280965]
 [-0.62541806 -0.10841948]
 [-0.6187291  -0.10476436]
 [-0.61204013 -0.12030978]
 [-0.60535117 -0.12734497]]
[[-0.59866221 -0.08768764]
 [-0.59197324 -0.14525663]
 [-0.58528428 -0.28298084]
 [-0.57859532 -0.13659415]
 [-0.57190635 -0.19609565]
 [-0.56521739 -0.12860297]
 [-0.55852843 -0.22090466]
 [-0.55183946 -0.21549971]
 [-0.5451505  -0.14808291]
 [-0.53846154 -0.20643563]]
[[-0.53177258 -0.09873586]
 [-0.52508361 -0.24059184]
 [-0.51839465 -0.2381398 ]
 [-0.51170569 -0.22438089]
 [-0.50501672 -0.1946309 ]
 [-0.49832776 -0.18790079]
 [-0.4916388  -0.24532005]
 [-0.48494983 -0.15204272]
 [-0.47826087 -0.1777827 ]
 [-0.47157191 -0.24972662]]
[[-0.46488294 -0.30363074]
 [-0.45819398 -0.38510623]
 [-0.45150502 -0.27816302]
 [-0.44481605 -0.27683102]
 [-0.43812709 -0.37631952]
 [-0.43143813 -0.28942984]
 [-0.42474916 -0.36269518]
 [-0.4180602  -0.26497435]
 [-0.41137124 -0.30508793]
 [-0.40468227 -0.29601314]]
[[-0.39799331 -0.33193419]
 [-0.39130435 -0.4117396 ]
 [-0.38461538 -0.34321295]
 [-0.37792642 -0.25214718]
 [-0.37123746 -0.35182179]
 [-0.36454849 -0.31142521]
 [-0.35785953 -0.36597112]
 [-0.35117057 -0.310897  ]
 [-0.34448161 -0.40105273]
 [-0.33779264 -0.34552643]]
[[-0.33110368 -0.38100855]
 [-0.32441472 -0.43782257]
 [-0.31772575 -0.36265822]
 [-0.31103679 -0.38549786]
 [-0.30434783 -0.43097585]
 [-0.29765886 -0.47795319]
 [-0.2909699  -0.42229524]
 [-0.28428094 -0.34107671]
 [-0.27759197 -0.42414228]
 [-0.27090301 -0.37117275]]
[[-0.26421405 -0.50032791]
 [-0.25752508 -0.44367058]
 [-0.25083612 -0.5105545 ]
 [-0.24414716 -0.39779887]
 [-0.23745819 -0.43806937]
 [-0.23076923 -0.46524869]
 [-0.22408027 -0.39891527]
 [-0.2173913  -0.49579353]
 [-0.21070234 -0.35485251]
 [-0.20401338 -0.47173036]]
[[-0.19732441 -0.43759534]
 [-0.19063545 -0.43804952]
 [-0.18394649 -0.49053569]
 [-0.17725753 -0.3534318 ]
 [-0.17056856 -0.49089666]
 [-0.1638796  -0.48965827]
 [-0.15719064 -0.45102487]
 [-0.15050167 -0.50062386]
 [-0.14381271 -0.5272903 ]
 [-0.13712375 -0.45735917]]
[[-0.13043478 -0.51158014]
 [-0.12374582 -0.46967974]
 [-0.11705686 -0.4047608 ]
 [-0.11036789 -0.45803095]
 [-0.10367893 -0.54451557]
 [-0.09698997 -0.54153234]
 [-0.090301   -0.48883744]
 [-0.08361204 -0.50223437]
 [-0.07692308 -0.53697371]
 [-0.07023411 -0.42058157]]
[[-0.06354515 -0.4022819 ]
 [-0.05685619 -0.48809045]
 [-0.05016722 -0.42797554]
 [-0.04347826 -0.61138627]
 [-0.0367893  -0.47308862]
 [-0.03010033 -0.48854733]
 [-0.02341137 -0.51769767]
 [-0.01672241 -0.36583867]
 [-0.01003344 -0.49168005]
 [-0.00334448 -0.49818285]]
[[ 0.00334448 -0.41904187]
 [ 0.01003344 -0.50090802]
 [ 0.01672241 -0.4209193 ]
 [ 0.02341137 -0.53976307]
 [ 0.03010033 -0.51462673]
 [ 0.0367893  -0.44104216]
 [ 0.04347826 -0.4810508 ]
 [ 0.05016722 -0.48177107]
 [ 0.05685619 -0.48379118]
 [ 0.06354515 -0.45588757]]
[[ 0.07023411 -0.477081  ]
 [ 0.07692308 -0.5273023 ]
 [ 0.08361204 -0.47880118]
 [ 0.090301   -0.54396282]
 [ 0.09698997 -0.43336519]
 [ 0.10367893 -0.39852829]
 [ 0.11036789 -0.47358389]
 [ 0.11705686 -0.52786202]
 [ 0.12374582 -0.45561025]
 [ 0.13043478 -0.48685201]]
[[ 0.13712375 -0.46191456]
 [ 0.14381271 -0.57032741]
 [ 0.15050167 -0.52777167]
 [ 0.15719064 -0.44722621]
 [ 0.1638796  -0.45801537]
 [ 0.17056856 -0.48947182]
 [ 0.17725753 -0.52393517]
 [ 0.18394649 -0.42417077]
 [ 0.19063545 -0.4354289 ]
 [ 0.19732441 -0.40443173]]
[[ 0.20401338 -0.42554981]
 [ 0.21070234 -0.34971149]
 [ 0.2173913  -0.40713908]
 [ 0.22408027 -0.46312079]
 [ 0.23076923 -0.54739642]
 [ 0.23745819 -0.44876266]
 [ 0.24414716 -0.47446048]
 [ 0.25083612 -0.4145365 ]
 [ 0.25752508 -0.36308832]
 [ 0.26421405 -0.4516752 ]]
[[ 0.27090301 -0.37797555]
 [ 0.27759197 -0.44692704]
 [ 0.28428094 -0.49398878]
 [ 0.2909699  -0.40914053]
 [ 0.29765886 -0.34531314]
 [ 0.30434783 -0.5330953 ]
 [ 0.31103679 -0.42521163]
 [ 0.31772575 -0.4328662 ]
 [ 0.32441472 -0.41730735]
 [ 0.33110368 -0.35224348]]
[[ 0.33779264 -0.3763926 ]
 [ 0.34448161 -0.39805595]
 [ 0.35117057 -0.33962955]
 [ 0.35785953 -0.41604041]
 [ 0.36454849 -0.24311415]
 [ 0.37123746 -0.29876387]
 [ 0.37792642 -0.38227144]
 [ 0.38461538 -0.34728134]
 [ 0.39130435 -0.40145963]
 [ 0.39799331 -0.32114713]]
[[ 0.40468227 -0.39374121]
 [ 0.41137124 -0.24745799]
 [ 0.4180602  -0.29930681]
 [ 0.42474916 -0.26514251]
 [ 0.43143813 -0.35108806]
 [ 0.43812709 -0.31497925]
 [ 0.44481605 -0.27414939]
 [ 0.45150502 -0.27003458]
 [ 0.45819398 -0.28058759]
 [ 0.46488294 -0.30332743]]
[[ 0.47157191 -0.30197984]
 [ 0.47826087 -0.25522166]
 [ 0.48494983 -0.19181598]
 [ 0.4916388  -0.28540065]
 [ 0.49832776 -0.23905098]
 [ 0.50501672 -0.28174433]
 [ 0.51170569 -0.24077047]
 [ 0.51839465 -0.29298999]
 [ 0.52508361 -0.25452799]
 [ 0.53177258 -0.21755715]]
[[ 0.53846154 -0.16755383]
 [ 0.5451505  -0.15539896]
 [ 0.55183946 -0.25801441]
 [ 0.55852843 -0.1857938 ]
 [ 0.56521739 -0.12169066]
 [ 0.57190635 -0.18045438]
 [ 0.57859532 -0.14079277]
 [ 0.58528428 -0.15902751]
 [ 0.59197324 -0.14992646]
 [ 0.59866221 -0.16935036]]
[[ 0.60535117 -0.16216108]
 [ 0.61204013 -0.05747911]
 [ 0.6187291  -0.13410884]
 [ 0.62541806 -0.0501323 ]
 [ 0.63210702 -0.0644133 ]
 [ 0.63879599 -0.11730782]
 [ 0.64548495 -0.09197034]
 [ 0.65217391 -0.07748246]
 [ 0.65886288 -0.06496734]
 [ 0.66555184 -0.06781847]]
[[ 0.6722408  -0.07644017]
 [ 0.67892977 -0.07227518]
 [ 0.68561873 -0.06732137]
 [ 0.69230769 -0.10390732]
 [ 0.69899666  0.07067612]
 [ 0.70568562 -0.0158242 ]
 [ 0.71237458  0.07206259]
 [ 0.71906355 -0.01730523]
 [ 0.72575251  0.06691954]
 [ 0.73244147  0.00912288]]
[[ 0.73913043  0.02614966]
 [ 0.7458194   0.02521993]
 [ 0.75250836  0.09490717]
 [ 0.75919732  0.08683184]
 [ 0.76588629  0.13056611]
 [ 0.77257525 -0.02874826]
 [ 0.77926421  0.12829133]
 [ 0.78595318  0.11279263]
 [ 0.79264214  0.13776629]
 [ 0.7993311   0.11474154]]
[[0.80602007 0.15279174]
 [0.81270903 0.10609146]
 [0.81939799 0.20126182]
 [0.82608696 0.21306148]
 [0.83277592 0.13374319]
 [0.83946488 0.19082061]
 [0.84615385 0.24430196]
 [0.85284281 0.23311665]
 [0.85953177 0.22886207]
 [0.86622074 0.26936076]]
[[0.8729097  0.20724802]
 [0.87959866 0.23934496]
 [0.88628763 0.20874845]
 [0.89297659 0.32021552]
 [0.89966555 0.35498989]
 [0.90635452 0.30851029]
 [0.91304348 0.38562342]
 [0.91973244 0.3386004 ]
 [0.9264214  0.37027177]
 [0.93311037 0.40729538]]
[[0.93979933 0.34590922]
 [0.94648829 0.36894104]
 [0.95317726 0.3690762 ]
 [0.95986622 0.31073094]
 [0.96655518 0.42978469]
 [0.97324415 0.42538894]
 [0.97993311 0.42841487]
 [0.98662207 0.48164306]
 [0.99331104 0.5360715 ]
 [1.         0.54508086]]
```



将数据变成TFrecord后，按照batch_size=10读取后的数据，没有repeat, 没有shuffule

```
[[-1.          0.48135412]
 [-0.99331105  0.57843447]
 [-0.9866221   0.4946431 ]
 [-0.9799331   0.5385648 ]
 [-0.97324413  0.47822374]
 [-0.9665552   0.39865002]
 [-0.9598662   0.50083226]
 [-0.9531773   0.409698  ]
 [-0.9464883   0.34020805]
 [-0.9397993   0.37224305]]
[[-0.93311036  0.36621875]
 [-0.9264214   0.32345513]
 [-0.91973245  0.4153784 ]
 [-0.9130435   0.3088199 ]
 [-0.9063545   0.26206312]
 [-0.89966553  0.35463208]
 [-0.8929766   0.40226638]
 [-0.8862876   0.22092499]
 [-0.8795987   0.24530274]
 [-0.8729097   0.24724565]]
[[-0.8662207   0.20360316]
 [-0.85953176  0.25684285]
 [-0.8528428   0.21504068]
 [-0.84615386  0.19686964]
 [-0.8394649   0.2124313 ]
 [-0.8327759   0.20882274]
 [-0.82608694  0.21084408]
 [-0.819398    0.18702635]
 [-0.81270903  0.04792324]
 [-0.8060201   0.20201561]]
[[-0.7993311   0.1226222 ]
 [-0.7926421   0.1939976 ]
 [-0.78595316  0.14474753]
 [-0.7792642   0.06067878]
 [-0.77257526  0.04769419]
 [-0.7658863   0.06666112]
 [-0.7591973   0.00317835]
 [-0.75250834  0.06465381]
 [-0.7458194   0.13056679]
 [-0.73913044  0.14734006]]
[[-0.7324415   0.1366773 ]
 [-0.72575253  0.03730449]
 [-0.7190635  -0.03070569]
 [-0.71237457 -0.03429015]
 [-0.7056856   0.02261529]
 [-0.69899666 -0.07118332]
 [-0.6923077   0.04187838]
 [-0.68561876 -0.05822953]
 [-0.67892975 -0.09991225]
 [-0.6722408  -0.13352112]]
[[-0.66555184 -0.05306977]
 [-0.6588629  -0.04403695]
 [-0.65217394 -0.04549052]
 [-0.6454849  -0.13638332]
 [-0.638796   -0.08721941]
 [-0.632107   -0.07280965]
 [-0.62541807 -0.10841949]
 [-0.6187291  -0.10476436]
 [-0.61204016 -0.12030978]
 [-0.60535115 -0.12734497]]
[[-0.5986622  -0.08768764]
 [-0.59197325 -0.14525662]
 [-0.5852843  -0.28298083]
 [-0.57859534 -0.13659415]
 [-0.5719063  -0.19609566]
 [-0.5652174  -0.12860297]
 [-0.5585284  -0.22090466]
 [-0.5518395  -0.21549971]
 [-0.5451505  -0.14808291]
 [-0.53846157 -0.20643564]]
[[-0.53177255 -0.09873586]
 [-0.5250836  -0.24059184]
 [-0.51839465 -0.23813981]
 [-0.5117057  -0.22438088]
 [-0.50501674 -0.1946309 ]
 [-0.49832776 -0.1879008 ]
 [-0.4916388  -0.24532005]
 [-0.48494983 -0.15204272]
 [-0.47826087 -0.1777827 ]
 [-0.4715719  -0.24972662]]
[[-0.46488294 -0.30363074]
 [-0.458194   -0.38510624]
 [-0.451505   -0.27816302]
 [-0.44481605 -0.27683103]
 [-0.4381271  -0.37631953]
 [-0.43143812 -0.28942984]
 [-0.42474917 -0.3626952 ]
 [-0.4180602  -0.26497436]
 [-0.41137123 -0.30508792]
 [-0.40468228 -0.29601315]]
[[-0.3979933  -0.33193418]
 [-0.39130434 -0.4117396 ]
 [-0.3846154  -0.34321296]
 [-0.3779264  -0.25214717]
 [-0.37123746 -0.35182178]
 [-0.3645485  -0.3114252 ]
 [-0.35785952 -0.36597112]
 [-0.35117057 -0.310897  ]
 [-0.34448162 -0.40105274]
 [-0.33779263 -0.34552643]]
[[-0.33110368 -0.38100854]
 [-0.32441473 -0.43782258]
 [-0.31772575 -0.36265823]
 [-0.3110368  -0.38549787]
 [-0.3043478  -0.43097585]
 [-0.29765886 -0.4779532 ]
 [-0.2909699  -0.42229524]
 [-0.28428093 -0.3410767 ]
 [-0.27759197 -0.42414227]
 [-0.27090302 -0.37117276]]
[[-0.26421404 -0.5003279 ]
 [-0.2575251  -0.44367057]
 [-0.25083613 -0.5105545 ]
 [-0.24414715 -0.39779887]
 [-0.2374582  -0.43806937]
 [-0.23076923 -0.46524867]
 [-0.22408026 -0.39891526]
 [-0.2173913  -0.49579352]
 [-0.21070234 -0.3548525 ]
 [-0.20401338 -0.47173035]]
[[-0.19732441 -0.43759534]
 [-0.19063546 -0.43804953]
 [-0.18394649 -0.4905357 ]
 [-0.17725752 -0.3534318 ]
 [-0.17056856 -0.49089667]
 [-0.1638796  -0.48965827]
 [-0.15719064 -0.45102486]
 [-0.15050167 -0.5006239 ]
 [-0.14381272 -0.5272903 ]
 [-0.13712375 -0.45735916]]
[[-0.13043478 -0.51158017]
 [-0.12374582 -0.46967974]
 [-0.11705685 -0.4047608 ]
 [-0.11036789 -0.45803094]
 [-0.10367893 -0.54451555]
 [-0.09698997 -0.54153234]
 [-0.09030101 -0.48883745]
 [-0.08361204 -0.5022344 ]
 [-0.07692308 -0.5369737 ]
 [-0.07023411 -0.42058158]]
[[-0.06354515 -0.4022819 ]
 [-0.05685619 -0.48809046]
 [-0.05016723 -0.42797554]
 [-0.04347826 -0.61138624]
 [-0.0367893  -0.47308862]
 [-0.03010033 -0.48854733]
 [-0.02341137 -0.5176977 ]
 [-0.01672241 -0.36583868]
 [-0.01003344 -0.49168006]
 [-0.00334448 -0.49818283]]
[[ 0.00334448 -0.41904187]
 [ 0.01003344 -0.500908  ]
 [ 0.01672241 -0.4209193 ]
 [ 0.02341137 -0.5397631 ]
 [ 0.03010033 -0.51462674]
 [ 0.0367893  -0.44104216]
 [ 0.04347826 -0.4810508 ]
 [ 0.05016723 -0.48177108]
 [ 0.05685619 -0.48379117]
 [ 0.06354515 -0.45588756]]
[[ 0.07023411 -0.477081  ]
 [ 0.07692308 -0.5273023 ]
 [ 0.08361204 -0.47880116]
 [ 0.09030101 -0.54396284]
 [ 0.09698997 -0.4333652 ]
 [ 0.10367893 -0.39852828]
 [ 0.11036789 -0.47358388]
 [ 0.11705685 -0.527862  ]
 [ 0.12374582 -0.45561025]
 [ 0.13043478 -0.48685202]]
[[ 0.13712375 -0.46191457]
 [ 0.14381272 -0.5703274 ]
 [ 0.15050167 -0.52777165]
 [ 0.15719064 -0.4472262 ]
 [ 0.1638796  -0.45801538]
 [ 0.17056856 -0.48947182]
 [ 0.17725752 -0.52393514]
 [ 0.18394649 -0.42417076]
 [ 0.19063546 -0.4354289 ]
 [ 0.19732441 -0.40443173]]
[[ 0.20401338 -0.4255498 ]
 [ 0.21070234 -0.3497115 ]
 [ 0.2173913  -0.4071391 ]
 [ 0.22408026 -0.4631208 ]
 [ 0.23076923 -0.5473964 ]
 [ 0.2374582  -0.44876266]
 [ 0.24414715 -0.47446048]
 [ 0.25083613 -0.4145365 ]
 [ 0.2575251  -0.3630883 ]
 [ 0.26421404 -0.4516752 ]]
[[ 0.27090302 -0.37797555]
 [ 0.27759197 -0.44692704]
 [ 0.28428093 -0.49398878]
 [ 0.2909699  -0.40914053]
 [ 0.29765886 -0.34531313]
 [ 0.3043478  -0.5330953 ]
 [ 0.3110368  -0.42521164]
 [ 0.31772575 -0.4328662 ]
 [ 0.32441473 -0.41730735]
 [ 0.33110368 -0.35224348]]
[[ 0.33779263 -0.3763926 ]
 [ 0.34448162 -0.39805594]
 [ 0.35117057 -0.33962956]
 [ 0.35785952 -0.41604042]
 [ 0.3645485  -0.24311414]
 [ 0.37123746 -0.29876387]
 [ 0.3779264  -0.38227144]
 [ 0.3846154  -0.34728134]
 [ 0.39130434 -0.40145963]
 [ 0.3979933  -0.3211471 ]]
[[ 0.40468228 -0.39374122]
 [ 0.41137123 -0.247458  ]
 [ 0.4180602  -0.2993068 ]
 [ 0.42474917 -0.2651425 ]
 [ 0.43143812 -0.35108805]
 [ 0.4381271  -0.31497926]
 [ 0.44481605 -0.2741494 ]
 [ 0.451505   -0.27003458]
 [ 0.458194   -0.28058758]
 [ 0.46488294 -0.30332744]]
[[ 0.4715719  -0.30197984]
 [ 0.47826087 -0.25522166]
 [ 0.48494983 -0.19181599]
 [ 0.4916388  -0.28540066]
 [ 0.49832776 -0.23905098]
 [ 0.50501674 -0.28174433]
 [ 0.5117057  -0.24077046]
 [ 0.51839465 -0.29299   ]
 [ 0.5250836  -0.254528  ]
 [ 0.53177255 -0.21755715]]
[[ 0.53846157 -0.16755383]
 [ 0.5451505  -0.15539896]
 [ 0.5518395  -0.2580144 ]
 [ 0.5585284  -0.1857938 ]
 [ 0.5652174  -0.12169066]
 [ 0.5719063  -0.18045439]
 [ 0.57859534 -0.14079277]
 [ 0.5852843  -0.15902752]
 [ 0.59197325 -0.14992645]
 [ 0.5986622  -0.16935036]]
[[ 0.60535115 -0.16216108]
 [ 0.61204016 -0.05747911]
 [ 0.6187291  -0.13410884]
 [ 0.62541807 -0.0501323 ]
 [ 0.632107   -0.06441329]
 [ 0.638796   -0.11730781]
 [ 0.6454849  -0.09197034]
 [ 0.65217394 -0.07748246]
 [ 0.6588629  -0.06496733]
 [ 0.66555184 -0.06781847]]
[[ 0.6722408  -0.07644018]
 [ 0.67892975 -0.07227518]
 [ 0.68561876 -0.06732137]
 [ 0.6923077  -0.10390732]
 [ 0.69899666  0.07067613]
 [ 0.7056856  -0.0158242 ]
 [ 0.71237457  0.07206259]
 [ 0.7190635  -0.01730523]
 [ 0.72575253  0.06691954]
 [ 0.7324415   0.00912288]]
[[ 0.73913044  0.02614966]
 [ 0.7458194   0.02521993]
 [ 0.75250834  0.09490717]
 [ 0.7591973   0.08683184]
 [ 0.7658863   0.1305661 ]
 [ 0.77257526 -0.02874826]
 [ 0.7792642   0.12829132]
 [ 0.78595316  0.11279263]
 [ 0.7926421   0.13776629]
 [ 0.7993311   0.11474154]]
[[0.8060201  0.15279174]
 [0.81270903 0.10609146]
 [0.819398   0.20126182]
 [0.82608694 0.21306148]
 [0.8327759  0.1337432 ]
 [0.8394649  0.19082062]
 [0.84615386 0.24430196]
 [0.8528428  0.23311666]
 [0.85953176 0.22886208]
 [0.8662207  0.26936075]]
[[0.8729097  0.20724802]
 [0.8795987  0.23934495]
 [0.8862876  0.20874844]
 [0.8929766  0.32021552]
 [0.89966553 0.3549899 ]
 [0.9063545  0.3085103 ]
 [0.9130435  0.38562343]
 [0.91973245 0.3386004 ]
 [0.9264214  0.37027177]
 [0.93311036 0.40729538]]
[[0.9397993  0.3459092 ]
 [0.9464883  0.36894104]
 [0.9531773  0.3690762 ]
 [0.9598662  0.31073093]
 [0.9665552  0.4297847 ]
 [0.97324413 0.42538893]
 [0.9799331  0.42841488]
 [0.9866221  0.48164305]
 [0.99331105 0.5360715 ]
 [1.         0.54508084]]
```



使用同样的batch-size, 在没有shuffle的情况下，必须要保证在两种情况下(直接加载npy文件和加载tfrecord)每一个batch都是一样的。



